---
title: Навигация по файлам и каталогам
teaching: 30
exercises: 10
---

::::::::::::::::::::::::::::::::::::::: objectives

- Объяснить сходства и различия между файлом и каталогом.
- Преобразовать абсолютный путь в относительный и наоборот.
- Построить абсолютные и относительные пути, идентифицирующие конкретные файлы и каталоги.
- Использовать опции и аргументы для изменения поведения команды оболочки.
- Продемонстрировать использование автодополнения по клавише Tab и объяснить его преимущества.


::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- Как я могу перемещаться по компьютеру?
- Как я могу увидеть, какие файлы и каталоги у меня есть?
- Как я могу указать расположение файла или каталога на своем компьютере?

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: instructor

Введение в файловую систему и навигация по ней в оболочке (освещено в разделе [Навигация по файлам и каталогам](02-filedir.md)) может быт запутанным. Можно открыть одновременно терминал и графический файловый менеджер, чтобы учащиеся могли видеть содержимое и структуру файлов, используя при этом терминал для навигации по системе.

::::::::::::::::::::::::::::::::::::::::::::::::::

Часть операционной системы, отвечающая за управление файлами и каталогами, называется **файловой системой**. Она организует наши данные в файлы, которые хранят информацию, и каталоги (также называемые "папками"), которые хранят файлы или другие каталоги.

Существует несколько команд, которые часто используются для создания, просмотра, переименования и удаления файлов и каталогов. Чтобы начать их изучение, мы откроем окно оболочки.

Для начала узнаем, где мы находимся, запустив команду `pwd` (которая расшифровывается как "print working directory" — вывести рабочий каталог). Каталоги можно рассматривать как некоторые *места* — в любой момент, когда мы используем оболочку, мы находимся в месте, которое именуется **"текущим рабочим каталогом"**. Команды обычно читают и записывают файлы в текущем рабочем каталоге, то есть "здесь", поэтому важно знать, где вы находитесь перед запуском команды. `pwd` показывает, где мы находимся:

```bash
$ pwd
```

```output
/Users/nelle
```

В этих листингах, ответом компьютера является `/Users/nelle` — **домашний каталог**:

:::::::::::::::::::::::::::::::::::::::::  callout

## Вариации домашнего каталога

Путь домашнего каталога будет выглядеть по-разному на разных операционных системах. На Linux он может выглядеть как `/home/nelle`, а на Windows будет похож на `C:\Documents and Settings\nelle` или `C:\Users\nelle`. (Обратите внимание, что для разных версий Windows он может немного отличаться.) В будущих примерах мы используем по умолчанию вывод для `MacOS` — вывод на Linux и Windows может немного отличаться, но должен быть в целом схожим.

Дальнейшее повествование будет исходить, что команда `pwd` вернула домашний каталог вашего пользователя. Если `pwd` возвращает что-то другое, вам, возможно, придется перейти туда с помощью команды `cd`, иначе некоторые команды в этом уроке не будут работать как написано. Подробности о команде `cd` см. в разделе [Исследование других каталогов](#исследование-других-каталогов).

::::::::::::::::::::::::::::::::::::::::::::::::::

Чтобы понять, что такое "домашний каталог", давайте рассмотрим, как организована файловая система в целом. Для примера мы будем иллюстрировать файловую систему на компьютере нашего ученого Нелли. После этого примера вы изучите команды для изучения вашей собственной файловой системы, которая будет построена аналогично, но не будет точно такой же.

Файловая система на компьютере Нелли  выглядит следующим образом:

![Файловая система состоит из корневого каталога, который содержит подкаталоги с названиями bin, data, users и tmp](fig/filesystem.svg)

Файловая система напоминает перевернутое дерево. Верхний каталог — это **корневой каталог**, который содержит всё остальное. Мы обозначаем его с помощью одиночного символа "слэш" (`/`). В строке `/Users/nelle` корень обозначен ведущим (самым левым) слэшем.

Внутри этого каталога находятся несколько других каталогов:

- `bin`, где хранятся некоторые встроенные программы,
- `data`, для различных файлов данных,
- `Users`, где находятся персональные каталоги пользователей,
- `tmp`, для временных файлов, которые не нужно хранить долго

и т. д.

Мы знаем, что наш текущий рабочий каталог `/Users/nelle` находится внутри `/Users`, потому что `/Users` — это первая часть его имени. Аналогично, мы знаем, что `/Users` находится в корневом каталоге `/`, потому что его имя начинается с /.

:::::::::::::::::::::::::::::::::::::::::  callout

## Символы слэш

Обратите внимание, что символ `/` имеет два значения. Когда является самым первым символом в имени файла или каталога, он указывает на корневой каталог. Когда он появляется внутри пути, это просто разделитель.

::::::::::::::::::::::::::::::::::::::::::::::::::

В каталоге `/Users`, мы видим отдельные каталоги для каждого пользователя, зарегистрированного на компьютере Нелли: ее коллег _imhotep_ и _larry_.

![Подкаталог "/Users" включает домашние директории таких пользователей, как "/Users/imhotep", "/Users/larry" и "/Users/nelle](fig/home-directories.svg)

Файлы пользователя _imhotep_ хранятся в `/Users/imhotep`, файлы пользователя _larry_ — в `/Users/larry`, а файлы Нелли — в `/Users/nelle`. В наших примерах мы работаем с пользователем Нелли, поэтому мы видим `/Users/nelle` как домашний каталог. Обычно при открытии нового командного окна вы начинаете в своем домашнем каталоге.

Теперь давайте изучим команду, которая позволит нам увидеть содержимое нашей файловой системы. Мы можем увидеть, что находится в нашем домашнем каталоге, выполнив команду `ls`:

```bash
$ ls
```

```output
Applications Documents    Library      Music        Public
Desktop      Downloads    Movies       Pictures
```

> [!Note]  
> Ваши результаты могут немного отличаться в зависимости от вашей операционной системы и настройки файловой системы.

Команда `ls` выводит названия файлов и каталогов в текущем каталоге. Мы можем сделать вывод более понятным, используя опцию `-F`, которая указывает `ls` классифицировать вывод, добавляя маркеры в конец имён файлов и каталогов для указания их типа:

- `/` указывает, что это каталог;
- `@` указывает на ссылку;
- `*` указывает на исполняемый файл.

В зависимости от настроек вашей оболочки, оболочка также может использовать цвета для указания, является ли элемент файлом или каталогом.

```bash
$ ls -F
```

```output
Applications/ Documents/    Library/      Music/        Public/
Desktop/      Downloads/    Movies/       Pictures/
```

Вывод показывает, что домашний каталог содержит только **подкаталоги**. Любые имена в выводе без классификационного символа — это **файлы** в текущем рабочем каталоге.

:::::::::::::::::::::::::::::::::::::::::  callout

## Очистка терминала

Если экран становится слишком загроможденным, вы можете очистить терминал с помощью команды `clear`. Вы по-прежнему сможете получить доступ к предыдущим командам, используя <kbd>↑</kbd> и <kbd>↓</kbd> для перемещения по строкам, или прокручивая окно терминала.

::::::::::::::::::::::::::::::::::::::::::::::::::

### Получение справки

У команды `ls` есть множество других опций. Существует два распространенных способа узнать, как пользоваться командой и какие опции она поддерживает — **в зависимости от вашей среды, может работать только один из этих способов:**

1. Мы можем передать опцию `--help` любой команде (доступно на Linux и Git Bash), например:

  ```bash
  $ ls --help
  ```

2. Мы можем прочитать руководство с помощью команды `man` (доступно на Linux и macOS):

  ```bash
  $ man ls
  ```

Далее будет разобрано оба способа.

:::::::::::::::::::::::::::::::::::::::::  callout

## Справка для встроенных команд

Некоторые команды встроены в оболочку Bash, а не существуют как отдельные программы на файловой системе. Примером является команда `cd` (смена каталога). Если вы получите сообщение вроде `No manual entry for cd`, то попробуйте `help cd`. Команда `help` предоставляет информацию по использованию [встроенных команд Bash](https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html).

::::::::::::::::::::::::::::::::::::::::::::::::::

#### Опция --help

Большинство команд Bash и программ, которые были написаны для запуска из Bash, поддерживают опцию `--help`, которая выводит больше информации о том, как использовать команду или программу.

```bash
$ ls --help
```

```output
Usage: ls [OPTION]... [FILE]...
List information about the FILEs (the current directory by default).
Sort entries alphabetically if neither -cftuvSUX nor --sort is specified.

Mandatory arguments to long options are mandatory for short options, too.
  -a, --all                  do not ignore entries starting with .
  -A, --almost-all           do not list implied . and ..
      --author               with -l, print the author of each file
  -b, --escape               print C-style escapes for nongraphic characters
      --block-size=SIZE      scale sizes by SIZE before printing them; e.g.,
                               '--block-size=M' prints sizes in units of
                               1,048,576 bytes; see SIZE format below
  -B, --ignore-backups       do not list implied entries ending with ~
  -c                         with -lt: sort by, and show, ctime (time of last
                               modification of file status information);
                               with -l: show ctime and sort by name;
                               otherwise: sort by ctime, newest first
  -C                         list entries by columns
      --color[=WHEN]         colorize the output; WHEN can be 'always' (default
                               if omitted), 'auto', or 'never'; more info below
  -d, --directory            list directories themselves, not their contents
  -D, --dired                generate output designed for Emacs' dired mode
  -f                         do not sort, enable -aU, disable -ls --color
  -F, --classify             append indicator (one of */=>@|) to entries
...        ...        ...
```

:::::::::::::::::::::::::::::::::::::::::  callout

### Когда использовать "короткие" и "длинные" опции

Справка для команды `ls` показывает, что та имеет два формата опций: "короткие" и "длинные". К примеру, для отображения файлов и папкой, начинающихся с символа `.`, которые не отображаются по умолчанию командой `ls`, можно воспользоваться как короткой опцией `-a`, так и длинной опцией `--all`

Когда команда поддерживает оба вида опций:

- Используйте короткие опции при вводе команд непосредственно в оболочке, чтобы сократить количество нажатий клавиш и быстрее выполнить задачу.
- Используйте длинные опции в скриптах для ясности. Скрипт будет прочитан много раз, а написан — один раз.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::::  callout

## Не поддерживаемые опции командной строки

Если вы попробуете использовать опцию, которая не поддерживается, команда `ls` и другие команды обычно выведут сообщение об ошибке наподобие:

```bash
$ ls -j
```

```error
ls: invalid option -- 'j'
Try 'ls --help' for more information.
```

::::::::::::::::::::::::::::::::::::::::::::::::::

#### Команда `man`

Другой способ узнать о команде `ls` — ввести:

```bash
$ man ls
```

Эта команда превратит ваш терминал в страницу с описанием команды `ls` и ее опций.

Чтобы перемещаться по страницам руководства man, вы можете использовать <kbd>↑</kbd> и <kbd>↓</kbd> для покадрового перемещения, или попробовать <kbd>b</kbd> и <kbd>Spacebar</kbd> для прокрутки страницы целиком вверх и вниз. Чтобы искать символ или слово в руководстве man, используйте <kbd>/</kbd>, за которым введите искомый символ или слово. Если поиск найдет несколько совпадений, вы можете перемещаться между ними с помощью <kbd>N</kbd> (для перемещения вперед) и <kbd>Shift</kbd> + <kbd>N</kbd> (для перемещения назад).

Чтобы выйти из руководства `man`, нажмите <kbd>q</kbd>.

:::::::::::::::::::::::::::::::::::::::::  callout

## Страницы руководства в интернете

Конечно, есть третий способ получить справку по командам: поиск в интернете через браузер. При поиске в интернете включение фразы `unix man page` в поисковый запрос поможет найти соответствующие результаты.

GNU предоставляет ссылки на свои [руководства](https://www.gnu.org/manual/manual.html), включая [основные утилиты GNU](https://www.gnu.org/software/coreutils/manual/coreutils.html), которые охватывают многие команды, представленные в этом уроке.

### Использование проекта `tl;dr`

Часто, очень подробные справки и мануалы могут отпугнуть впервые столкнувшемуся с ними пользователя. Проект [`tl;dr`](https://tldr.sh/) (анг.: "Too long; don't read", что на сленге означает: "многа букаф, ниасилил") позволяет вывести краткое резюме по указанной команде с примерами частых сценариев использования. Данный проект может быть установлен в систему в качестве отдельной программы, наряду с программой `man`, либо же использован [онлайн](https://tldr.inbrowser.app/).

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## Изучение дополнительных опций `ls`

Вы также можете использовать две опции одновременно. Что делает команда `ls` с опцией `-l`? А что, если использовать опции `-l` и `-h` вместе?

Некоторая информация в выводе будет касаться свойств, которые мы не рассматриваем в этом уроке (таких как права доступа к файлам и их владение), остальная информация будет полезной.

:::::::::::::::  solution

## Решение

Опция `-l` заставляет команду `ls` использовать формат длинного (**l**ong) списка, показывая не только имена файлов/каталогов, но и дополнительную информацию, такую как размер файла и время его последнего изменения. Если вы используете обе опции `-l` и `-h`, это делает размер файла человекочитаемым (**h**uman readable), то есть отображает что-то вроде `5.3K` вместо `5369`.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## Список в обратном хронологическом порядке

По умолчанию `ls` выводит содержимое каталога в алфавитном порядке по имени. Команда `ls -t` сортирует элементы по времени последнего изменения, вместо алфавитного порядка. Команда `ls -r` выводит содержимое каталога в обратном порядке. Какой файл отображается последним, если использовать обе опции `-t` и `-r` вместе? Подсказка: вам может понадобиться использовать опцию `-l`, чтобы увидеть даты последних изменений.

:::::::::::::::  solution

## Решение

При использовании опций `-rt`, самый недавний измененный файл будет отображен последним . Это может быть очень полезно для поиска ваших последних правок или проверки, был ли создан новый файл.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

### Изучение других каталогов

Мы можем использовать команду `ls` не только для текущего рабочего каталога, но и для просмотра содержимого другого каталога. Давайте посмотрим на наш каталог `Desktop`, выполнив команду `ls -F Desktop`, то есть команду `ls` с опцией `-F` и [**аргументом**][Аргументы] `Desktop`. Аргумент `Desktop` указывает `ls`, что мы хотим просмотреть содержимое не текущего рабочего каталога (а вложенного каталога `Desktop`):

```bash
$ ls -F Desktop
```

```output
shell-lesson-data/
```

Обратите внимание, что если каталог с именем `Desktop` не существует в вашем текущем рабочем каталоге, эта команда вернёт ошибку. Обычно каталог `Desktop` существует в домашнем каталоге, который, как предполагает данный текст, является текущим рабочим каталогом вашей bash-оболочки.

Вывод должен содержать список всех файлов и подкаталогов в вашем каталоге `Desktop`, включая каталог `shell-lesson-data`, который вы скачали на этапе [настройки для этого урока](../learners/setup.md). На большинстве систем содержимое каталога Desktop в оболочке будет отображаться как значки в графическом интерфейсе за всеми открытыми окнами. Проверьте, так ли это у вас.

Организация данных по иерархии помогает нам следить за своим рабочим процессом. Хотя можно поместить сотни файлов в домашний каталог, так же как можно сложить сотни напечатанных бумаг на столе, намного проще находить нужное, когда они организованы в подкаталоги с осмысленными именами.

Теперь, когда мы знаем, что каталог `shell-lesson-data` находится в каталоге `Desktop`, мы можем сделать две вещи.

Во-первых, используя ту же стратегию, что и ранее, мы можем посмотреть его содержимое, передав имя каталога команде `ls`:

```bash
$ ls -F Desktop/shell-lesson-data
```

```output
exercise-data/  north-pacific-gyre/
```

Во-вторых, мы можем сменить наше местоположение на другой каталог, чтобы больше не находиться в домашнем каталоге.

Команда для смены местоположения — это `cd`, за которой следует имя каталога для смены рабочего каталога. `cd` расшифровывается как '**c**hange **d**irectory' (сменить каталог), что немного вводит в заблуждение. Команда не меняет каталог; она изменяет текущий рабочий каталог оболочки. Другими словами, она говорит оболочке в каком каталоге мы находимся. Команда `cd` похожа на двойной щелчок по папке в графическом интерфейсе, чтобы попасть в эту папку.

Допустим, мы хотим перейти в каталог `exercise-data`, который мы видели выше. Мы можем выполнить следующие команды:

```bash
$ cd Desktop
$ cd shell-lesson-data
$ cd exercise-data
```

Эти команды переместят нас из домашнего каталога в каталог `Desktop`, затем в `shell-lesson-data`, а после в каталог `exercise-data`. Вы можете заметить, что `cd` ничего не выводит на экран. Это нормально. Многие команды оболочки при успешном выполнении ничего не выводят на экран. Но если мы выполним `pwd` после данных команд, мы увидим, что сейчас находимся в каталоге `/Users/nelle/Desktop/shell-lesson-data/exercise-data`.

Если мы теперь выполним `ls -F` без аргументов, то увидим содержимое каталога `/Users/nelle/Desktop/shell-lesson-data/exercise-data`, потому что именно там мы сейчас находимся:

```bash
$ pwd
```

```output
/Users/nelle/Desktop/shell-lesson-data/exercise-data
```

```bash
$ ls -F
```

```output
alkanes/  animal-counts/  creatures/  numbers.txt  writing/
```

Теперь мы знаем, как спуститься по дереву каталогов (то есть как войти в подкаталог), но как подняться вверх (то есть как выйти из каталога и войти в его родительский каталог)? Мы могли бы попробовать следующее:

```bash
$ cd shell-lesson-data
```

```error
-bash: cd: shell-lesson-data: No such file or directory
```

Но мы получаем ошибку! Почему так?

С нашими текущими методами работы, команда `cd` видит только подкаталоги внутри вашего текущего каталога. Есть разные способы увидеть каталоги выше текущего местоположения, начнём с самого простого.

Существует сокращение в оболочке для перемещения на один уровень выше по каталогу. Это делается следующим образом:

```bash
$ cd ..
```

`..` — это специальное имя каталога, означающее "каталог, содержащий этот", или, короче, **родительский каталог**. И действительно, если мы выполним `pwd` после выполнения `cd ..`, мы увидим, что снова оказались в `/Users/nelle/Desktop/shell-lesson-data`:

```bash
$ pwd
```

```output
/Users/nelle/Desktop/shell-lesson-data
```

Специальный каталог `..` обычно не отображается, когда мы выполняем `ls`. Если мы хотим его увидеть, мы можем добавить опцию `-a` к `ls -F`:

```bash
$ ls -F -a
```

```output
./  ../  exercise-data/  north-pacific-gyre/
```

`-a` означает 'показать все' (show **a**ll), включая скрытые файлы. Эта опция сообщает команде `ls` показывать нам имена файлов и каталогов, которые начинаются с `.`, которым является и `..`. Как вы можете видеть, такой вывод также отображает другой специальный каталог — `.`, который обозначает 'текущий рабочий каталог'. Это может показаться излишним, но вскоре мы увидим, как это можно использовать.

Обратите внимание, что в большинстве утилит командной строки можно объединять несколько коротких опций, используя один символ `-` без пробелов между опциями: `ls -F -a` эквивалентно `ls -Fa`.

:::::::::::::::::::::::::::::::::::::::::  callout

## Другие скрытые файлы

Помимо скрытых каталогов `..` и `.`, вы также можете увидеть файл под названием `.bash_profile`. Этот файл обычно содержит настройки конфигурации оболочки. Вы также можете увидеть другие файлы и каталоги, начинающиеся с `.`. Эти файлы и каталоги обычно используются для настройки различных программ на вашем компьютере. Префикс `.` используется, чтобы предотвратить загромождение терминала этими конфигурационными файлами при выполнении стандартной команды ls.

::::::::::::::::::::::::::::::::::::::::::::::::::

Эти три команды — основные команды для навигации по файловой системе на вашем компьютере: `pwd`, `ls` и `cd`. Давайте изучим некоторые вариации этих команд. Что произойдет, если вы введете `cd` без указания каталога?

```bash
$ cd
```

Как можно проверить, что произошло? Команда pwd даст нам ответ!

```bash
$ pwd
```

```output
/Users/nelle
```

Оказывается, что команда `cd` без аргументов вернёт вас в домашний каталог, что очень полезно, если вы потерялись в своей файловой системе.

Попробуем вернуться в каталог `exercise-data`. В прошлый раз мы использовали три команды, но на самом деле можно указать последовательность каталогов для перехода в `exercise-data` за один шаг:

```bash
$ cd Desktop/shell-lesson-data/exercise-data
```

Проверьте, что мы перешли в нужное место, выполнив команды `pwd` и `ls -F`.

Если мы хотим подняться на один уровень выше от каталога данных, мы могли бы использовать `cd ..`. Но есть и другой способ перейти в любой каталог, независимо от вашего текущего местоположения.

До сих пор при указании имен каталогов или даже пути к каталогу (как в примере выше) мы использовали **относительные пути**. Когда вы используете относительный путь с командой, такой как `ls` или `cd`, она пытается найти это местоположение относительно вашего текущего каталога, а не корня файловой системы.

Однако можно указать **абсолютный путь** к каталогу, указав весь путь от корневого каталога. Начало такого пути обозначается слэшем. `/` в качестве первого символа пути сообщает компьютеру следовать по пути от корня файловой системы, поэтому он всегда указывает на один и тот же каталог, независимо от того, где мы находимся при выполнении команды.

Это позволяет нам перейти в каталог `shell-lesson-data` из любого места файловой системы (включая каталог `exercise-data`). Для помощи в написании абсолютного пути, мы можем использовать команду `pwd`, которая возвращает абсолютный путь до текущего рабочего каталога.

```bash
$ pwd
```

```output
/Users/nelle/Desktop/shell-lesson-data/exercise-data
```

```bash
$ cd /Users/nelle/Desktop/shell-lesson-data
```

Выполните команды `pwd` и `ls -F`, чтобы убедиться, что мы находимся в том каталоге, в котором ожидаем.

:::::::::::::::::::::::::::::::::::::::::  callout

## Ещё два полезных сокращения

Оболочка интерпретирует символ тильды (`~`) в начале пути как "домашний каталог текущего пользователя". Например, если домашний каталог Нелли — это `/Users/nelle`, то `~/data` эквивалентно `/Users/nelle/data`. Это работает только если тильда стоит в начале пути: `here/there/~/elsewhere` *не* будет интерпретировано как `here/there/Users/nelle/elsewhere`.

Еще одной полезной командой является символ тире (`-`). `cd` интерпретирует `-` как *предыдущий каталог, в котором я был*, что удобнее, чем запоминать и вводить полный путь. Это *очень* эффективный способ перемещаться *между двумя каталогами* — если выполнить `cd -` дважды, вы вернетесь в исходный каталог.

Разница между `cd ..` и `cd -` заключается в том, что первая команда перемещает вас *вверх* (в родительский каталог), а вторая — *назад* (в тот каталог, где вы были до крайнего вызова `cd`).

***

Попробуйте сами!
Сначала перейдите в каталог `~/Desktop/shell-lesson-data` (вы, вероятно, уже там).

```bash
$ cd ~/Desktop/shell-lesson-data
```

Затем перейдите в каталог `exercise-data/creatures`

```bash
$ cd exercise-data/creatures
```

Теперь, если вы выполните команду:

```bash
$ cd -
```

вы вернётесь в каталог `~/Desktop/shell-lesson-data`. Выполните `cd -` снова, и вы вернётесь в `~/Desktop/shell-lesson-data/exercise-data/creatures`.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## Абсолютные и относительные пути

Начиная с каталога `/Users/nelle/data`, какую из следующих команд могла бы использовать Нелли, чтобы перейти в свой домашний каталог, который находится по адресу `/Users/nelle`?

1. `cd .`
2. `cd /`
3. `cd /home/nelle`
4. `cd ../..`
5. `cd ~`
6. `cd home`
7. `cd ~/data/..`
8. `cd`
9. `cd ..`

:::::::::::::::  solution

## Solution

1. Нет: `.` обозначает текущий каталог.
2. Нет: `/` обозначает корневой каталог.
3. Нет: домашний каталог Нелли — это `/Users/nelle`.
4. Нет: эта команда поднимет на два уровня вверх, то есть окажемся в `/Users`.
5. Да: `~` обозначает домашний каталог пользователя, в данном случае `/Users/nelle`.
6. Нет: эта команда попытается перейти в каталог `home` в текущем каталоге, если он существует.
  if it exists.
7. Да: хоть это и избыточно сложный, но правильный путь.
8. Да: это сокращение для перехода в домашний каталог пользователя.
9. Да: переход на уровень вверх из каталога `/Users/nelle/data` перенесёт вас в домашний каталог Нелли.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## Разрешение относительных путей

Используя диаграмму файловой системы ниже, ответьте: если команда `pwd` выводит /`Users/thing`, что покажет `ls -F ../backup`?

1. `../backup: No such file or directory`
2. `2012-12-01 2013-01-08 2013-01-27`
3. `2012-12-01/ 2013-01-08/ 2013-01-27/`
4. `original/ pnas_final/ pnas_sub/`

![Дерево каталогов ниже директории Users, где "/Users" содержит каталоги "backup" и "thing"; "/Users/backup" содержит "original", "pnas_final" и "pnas_sub"; "/Users/thing" содержит "backup"; а "/Users/thing/backup" содержит "2012-12-01", "2013-01-08" и "2013-01-27"](fig/filesystem-challenge.svg)

:::::::::::::::  solution

## Решение

1. Нет: каталог `backup` существует в `/Users`.
2. Нет: это содержимое каталога `Users/thing/backup`, но с `..` мы запрашиваем уровень выше.
3. Нет: см. п.2.
4. Да: `../backup/` ссылается на `/Users/backup/`.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::  challenge

## Понимание вывода команды `ls`

Используя диаграмму файловой системы ниже, ответьте: если команда `pwd` выводит `/Users/backup`, и опция `-r` заставляет `ls` отображать содержимое в обратном порядке, какая команда приведёт к следующему выводу:

```output
pnas_sub/ pnas_final/ original/
```

![Дерево каталогов ниже директории Users, где "/Users" содержит каталоги "backup" и "thing"; "/Users/backup" содержит "original", "pnas_final" и "pnas_sub"; "/Users/thing" содержит "backup"; а "/Users/thing/backup" содержит "2012-12-01", "2013-01-08" и "2013-01-27"](fig/filesystem-challenge.svg)

1. `ls pwd`
2. `ls -r -F`
3. `ls -r -F /Users/backup`

:::::::::::::::  solution

## Решение

1. Нет: `pwd` — это не имя каталога.
2. Да: ls без каталога, переданного в качестве аргумента выводит файлы и подкаталоги в текущем каталоге.
3. Да: команда использует абсолютный путь.

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

## Общий синтаксис команд оболочки

Мы уже познакомились с командами, опциями и аргументами, но полезно формализовать некоторые термины.

Рассмотрим следующую команду в качестве общего примера, который мы разберем на составные части:

```bash
$ ls -F /
```

![Общий синтаксис команды оболочки](fig/shell_command_syntax.svg)

`ls` — это **команда** с **опцией** `-F` и **аргументом** `/`. Мы уже видели, что опции могут начинаться с одного дефиса (`-`), такие опции называются **короткими**, или с двух дефисов (`--`), такие опции называются **длинными**. [Опции] изменяют поведение команды, а [аргументы] указывают, над чем команда должна работать (например, файлы и каталоги). Иногда опции и аргументы называют параметрами. Команда может быть вызвана с несколькими опциями и аргументами, но они не всегда являются обязательными.

Иногда опции называют **переключателями** или **флагами**, особенно если опции не принимают аргументов. В этом уроке мы будем использовать термин _опция_.

Каждая часть команды разделена пробелами. Если опустить пробел между `ls` и `-F`, оболочка попытается найти команду под названием `ls-F`, которой не существует. Кроме того, важно учитывать регистр. Например, `ls -s` выводит размер файлов и каталогов рядом с их именами, тогда как `ls -S` сортирует файлы и каталоги по размеру, как показано ниже:

```bash
$ cd ~/Desktop/shell-lesson-data
$ ls -s exercise-data
```

```output
total 28
 4 animal-counts   4 creatures  12 numbers.txt   4 alkanes   4 writing
```

Обратите внимание, что размеры, возвращаемые командой `ls -s`, указаны в _блоках_. Эти блоки могут быть определены по-разному в зависимости от операционной системы, поэтому вы можете получить результаты, отличные от приведенных в примере.

```bash
$ ls -S exercise-data
```

```output
animal-counts  creatures  alkanes  writing  numbers.txt
```

Таким образом, команда `ls -F /` из примера выше выведет список файлов и каталогов в корневом каталоге `/`. Пример возможного вывода для этой команды:

```bash
$ ls -F /
```

```output
Applications/         System/
Library/              Users/
Network/              Volumes/
```

### Работа Нелли: Организация файлов

Зная все это о файлах и каталогах, Нелли готова организовать файлы, которые будут созданы анализатором белков.

Она создает каталог под названием `north-pacific-gyre` (чтобы напомнить себе, откуда пришли данные), который будет содержать файлы данных с машины и ее скрипты для обработки данных.

Каждая из ее физических проб отличается уникальным десятизначным идентификатором, например 'NENE01729A'. Этот идентификатор используется в её журнале для записи местоположения, времени, глубины и других характеристик образца, поэтому она решает использовать его в названиях файлов данных. Поскольку выходные данные анализатора являются простым текстом, тот назовёт свои файлы `NENE01729A.txt`, `NENE01812A.txt` и так далее. Все 1520 файлов будут размещены в одном каталоге.

Теперь, находясь в своем текущем каталоге `shell-lesson-data`, Нелли может увидеть, какие файлы у неё есть, используя команду:

```bash
$ ls north-pacific-gyre/
```

Эта команда требует много ввода, но Нелли может позволить оболочке выполнить большую часть работы за неё с помощью **автодополнения по клавише Tab**. Если она введет:

```bash
$ ls nor
```

а затем нажмёт <kbd>Tab</kbd> (клавишу табуляции на клавиатуре), оболочка автоматически завершит имя каталога за неё:

```bash
$ ls north-pacific-gyre/
```

Если нажать <kbd>Tab</kbd> снова, ничего не произойдет, так как существует несколько вариантов для заполнения. Двойное нажатие <kbd>Tab</kbd> выведет список всех файлов.

Если после Нелли нажмёт <kbd>G</kbd>, а затем снова <kbd>Tab</kbd>, оболочка добавит 'goo', так как все файлы, начинающиеся с 'g', содержат первые три символа 'goo'.

```bash
$ ls north-pacific-gyre/goo
```

Чтобы увидеть все эти файлы, Нелли может снова дважды нажать <kbd>Tab</kbd>.

```bash
ls north-pacific-gyre/goo
goodiff.sh   goostats.sh
```

**Автодополнением по клавише Tab** используется во многих других инструментах.

[Аргументы]: https://hepoh3.github.io/shell-novice-ru/reference.html#аргумент


:::::::::::::::::::::::::::::::::::::::: keypoints

- Файловая система отвечает за управление информацией на диске.
- Информация хранится в файлах, которые размещены в каталогах (папках).
- Каталоги также могут содержать другие каталоги, образуя дерево каталогов.
- `pwd` выводит текущий рабочий каталог пользователя.
- `ls [path]` выводит список конкретного файла или каталога. `ls` без аргументов выводит содержимое текущего рабочего каталога.
- `cd [path]` изменяет текущий рабочий каталог.
- Большинство команд имеют опции, начинающиеся с одного дефиса (`-`).
- Имена каталогов в пути разделяются символом `/` в Unix и `\` в Windows.
- `/` обозначает корневой каталог всей файловой системы.
- Абсолютный путь указывает местоположение, начиная с корневого каталога файловой системы.
- Относительный путь указывает местоположение относительно текущего рабочего каталога.
- `.` означает 'текущий каталог', `..` означает 'каталог уровнем выше'.

::::::::::::::::::::::::::::::::::::::::::::::::::
